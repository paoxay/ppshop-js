import time
import requests
from datetime import datetime

# ==========================================
# โ๏ธ เบเบฑเปเบเบเปเบฒเบฅเบดเปเบเบเบญเบเปเบเบปเปเบฒเบขเบนเปเบเปเบญเบเบเบตเป
# ==========================================
# โ๏ธ เบเปเบฝเบเปเบเบฑเบ URL เบเบญเบเปเบเบปเปเบฒเปเบญเบ เปเบเบฑเปเบ: https://admin.ppshope.com/auto_update.php
target_url = "https://paoxai.com/ppshop-js/auto_update.php" 

def run_job():
    print(f"๐ เปเบฅเบตเปเบกเบเบปเปเบเบฅเบฐเบเบปเบ Auto Update เบเปเบงเบ Python...")
    print(f"๐ฏ เปเบเบปเปเบฒเปเบฒเบ: {target_url}")
    print(f"โณ เบเบงเบฒเบกเบเบตเป: เบเบธเบเป 1 เบเบปเปเบงเปเบกเบ (3600 เบงเบดเบเบฒเบเบต)")
    print("-" * 40)

    while True:
        try:
            current_time = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
            print(f"\n[{current_time}] ๐ เบเบณเบฅเบฑเบเบชเบปเปเบเบเบณเบชเบฑเปเบ...")

            # เบเบดเบ Request เปเบเบเบตเป URL
            response = requests.get(target_url, timeout=120)

            # เบเบงเบเบชเบญเบเบเบปเบเบฅเบฑเบ
            if response.status_code == 200:
                print(f"โ เบชเบณเปเบฅเบฑเบ! (Status: 200 OK)")
                # เบเปเบฒเบขเบฒเบเปเบซเบฑเบเบเปเปเบเบงเบฒเบกเบเบตเป PHP เบชเบปเปเบเบเบฑเบเบกเบฒ เปเบซเปเปเบเบตเบเปเบเบงเบฅเบธเปเบกเบเบตเป:
                # print(f"๐ Response: {response.text[:100]}...") 
            else:
                print(f"โ๏ธ เบกเบตเบเบฑเบเบซเบฒ! Status Code: {response.status_code}")

        except Exception as e:
            print(f"โ เปเบเบตเบเบเปเปเบเบดเบเบเบฒเบ: {e}")

        # เบเบฑเบเบเบญเบเบซเบผเบฑเบ 1 เบเบปเปเบงเปเบกเบ (3600 เบงเบดเบเบฒเบเบต)
        print("๐ค เบเบฑเบเบเปเบญเบ 1 เบเบปเปเบงเปเบกเบ...")
        time.sleep(3600)

if __name__ == "__main__":
    run_job()